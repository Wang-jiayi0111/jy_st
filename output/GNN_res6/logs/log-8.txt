2025-07-26 23:04:47,937 - INFO - 开始处理所有数据集...
2025-07-26 23:04:47,937 - INFO - 
################################################################################
2025-07-26 23:04:47,937 - INFO - 处理数据集: DNS
2025-07-26 23:04:47,938 - INFO - ################################################################################
2025-07-26 23:04:47,947 - INFO - 识别出关键类: 6/61 (9.84%)
2025-07-26 23:04:47,947 - INFO - 关键类: Name, Type, Compression, Message, dns, Record
2025-07-26 23:04:47,947 - INFO - 
********************************************************************************
2025-07-26 23:04:47,947 - INFO - 数据集: DNS
2025-07-26 23:04:47,947 - INFO - ********************************************************************************
2025-07-26 23:04:47,947 - INFO - 
================================================================================
2025-07-26 23:04:47,947 - INFO - 关键类识别结果
2025-07-26 23:04:47,947 - INFO - ================================================================================
2025-07-26 23:04:47,947 - INFO - 
关键类列表 (ID 和 类名):
2025-07-26 23:04:47,947 - INFO - ------------------------------------------------------------
2025-07-26 23:04:47,947 - INFO - 节点 20: Name
2025-07-26 23:04:47,947 - INFO - 节点 45: Type
2025-07-26 23:04:47,947 - INFO - 节点 7: Compression
2025-07-26 23:04:47,947 - INFO - 节点 54: Message
2025-07-26 23:04:47,947 - INFO - 节点 11: dns
2025-07-26 23:04:47,947 - INFO - 节点 31: Record
2025-07-26 23:04:47,947 - INFO - 
统计摘要:
2025-07-26 23:04:47,947 - INFO - ------------------------------------------------------------
2025-07-26 23:04:47,947 - INFO - 关键类数量: 6
2025-07-26 23:04:47,947 - INFO - ********************************************************************************

2025-07-26 23:04:47,948 - INFO - 数据集 DNS 处理完成
2025-07-26 23:04:47,948 - INFO - 
################################################################################
2025-07-26 23:04:47,948 - INFO - 所有数据集合并结果
2025-07-26 23:04:47,948 - INFO - ################################################################################
2025-07-26 23:04:47,948 - INFO - 
================================================================================
2025-07-26 23:04:47,948 - INFO - 关键类识别结果
2025-07-26 23:04:47,948 - INFO - ================================================================================
2025-07-26 23:04:47,948 - INFO - 
关键类列表 (ID 和 类名):
2025-07-26 23:04:47,948 - INFO - ------------------------------------------------------------
2025-07-26 23:04:47,948 - INFO - 节点 DNS_7: Compression
2025-07-26 23:04:47,948 - INFO - 节点 DNS_11: dns
2025-07-26 23:04:47,948 - INFO - 节点 DNS_20: Name
2025-07-26 23:04:47,948 - INFO - 节点 DNS_31: Record
2025-07-26 23:04:47,948 - INFO - 节点 DNS_45: Type
2025-07-26 23:04:47,948 - INFO - 节点 DNS_54: Message
2025-07-26 23:04:47,948 - INFO - 
统计摘要:
2025-07-26 23:04:47,948 - INFO - ------------------------------------------------------------
2025-07-26 23:04:47,948 - INFO - 关键类数量: 6
2025-07-26 23:04:47,948 - INFO - 处理完成!
2025-07-26 23:04:47,948 - INFO - [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0]
2025-07-26 23:04:47,948 - INFO - 关键类节点: ['DNS_7', 'DNS_11', 'DNS_20', 'DNS_31', 'DNS_45', 'DNS_54']
2025-07-26 23:04:48,034 - INFO - collecting all words and their counts
2025-07-26 23:04:48,034 - INFO - PROGRESS: at sentence #0, processed 0 words, keeping 0 word types
2025-07-26 23:04:48,036 - INFO - collected 61 word types from a corpus of 17146 raw words and 6100 sentences
2025-07-26 23:04:48,036 - INFO - Creating a fresh vocabulary
2025-07-26 23:04:48,038 - INFO - Word2Vec lifecycle event {'msg': 'effective_min_count=1 retains 61 unique words (100.00% of original 61, drops 0)', 'datetime': '2025-07-26T23:04:48.037053', 'gensim': '4.3.3', 'python': '3.10.16 (main, Dec 11 2024, 16:24:50) [GCC 11.2.0]', 'platform': 'Linux-6.8.0-48-generic-x86_64-with-glibc2.35', 'event': 'prepare_vocab'}
2025-07-26 23:04:48,038 - INFO - Word2Vec lifecycle event {'msg': 'effective_min_count=1 leaves 17146 word corpus (100.00% of original 17146, drops 0)', 'datetime': '2025-07-26T23:04:48.038254', 'gensim': '4.3.3', 'python': '3.10.16 (main, Dec 11 2024, 16:24:50) [GCC 11.2.0]', 'platform': 'Linux-6.8.0-48-generic-x86_64-with-glibc2.35', 'event': 'prepare_vocab'}
2025-07-26 23:04:48,038 - INFO - deleting the raw counts dictionary of 61 items
2025-07-26 23:04:48,038 - INFO - sample=0.001 downsamples 61 most-common words
2025-07-26 23:04:48,038 - INFO - Word2Vec lifecycle event {'msg': 'downsampling leaves estimated 4660.10928970074 word corpus (27.2%% of prior 17146)', 'datetime': '2025-07-26T23:04:48.038669', 'gensim': '4.3.3', 'python': '3.10.16 (main, Dec 11 2024, 16:24:50) [GCC 11.2.0]', 'platform': 'Linux-6.8.0-48-generic-x86_64-with-glibc2.35', 'event': 'prepare_vocab'}
2025-07-26 23:04:48,039 - INFO - estimated required memory for 61 words and 32 dimensions: 46116 bytes
2025-07-26 23:04:48,039 - INFO - resetting layer weights
2025-07-26 23:04:48,039 - INFO - Word2Vec lifecycle event {'update': False, 'trim_rule': 'None', 'datetime': '2025-07-26T23:04:48.039354', 'gensim': '4.3.3', 'python': '3.10.16 (main, Dec 11 2024, 16:24:50) [GCC 11.2.0]', 'platform': 'Linux-6.8.0-48-generic-x86_64-with-glibc2.35', 'event': 'build_vocab'}
2025-07-26 23:04:48,039 - INFO - Word2Vec lifecycle event {'msg': 'training model with 1 workers on 61 vocabulary and 32 features, using sg=1 hs=0 sample=0.001 negative=5 window=10 shrink_windows=True', 'datetime': '2025-07-26T23:04:48.039425', 'gensim': '4.3.3', 'python': '3.10.16 (main, Dec 11 2024, 16:24:50) [GCC 11.2.0]', 'platform': 'Linux-6.8.0-48-generic-x86_64-with-glibc2.35', 'event': 'train'}
2025-07-26 23:04:48,259 - INFO - EPOCH 0: training on 17146 raw words (4587 effective words) took 0.2s, 20902 effective words/s
2025-07-26 23:04:48,514 - INFO - EPOCH 1: training on 17146 raw words (4507 effective words) took 0.3s, 17705 effective words/s
2025-07-26 23:04:48,794 - INFO - EPOCH 2: training on 17146 raw words (4666 effective words) took 0.3s, 16753 effective words/s
2025-07-26 23:04:49,094 - INFO - EPOCH 3: training on 17146 raw words (4622 effective words) took 0.3s, 15454 effective words/s
2025-07-26 23:04:49,412 - INFO - EPOCH 4: training on 17146 raw words (4732 effective words) took 0.3s, 14951 effective words/s
2025-07-26 23:04:49,413 - INFO - Word2Vec lifecycle event {'msg': 'training on 85730 raw words (23114 effective words) took 1.4s, 16829 effective words/s', 'datetime': '2025-07-26T23:04:49.412965', 'gensim': '4.3.3', 'python': '3.10.16 (main, Dec 11 2024, 16:24:50) [GCC 11.2.0]', 'platform': 'Linux-6.8.0-48-generic-x86_64-with-glibc2.35', 'event': 'train'}
2025-07-26 23:04:49,413 - INFO - Word2Vec lifecycle event {'params': 'Word2Vec<vocab=61, vector_size=32, alpha=0.025>', 'datetime': '2025-07-26T23:04:49.413229', 'gensim': '4.3.3', 'python': '3.10.16 (main, Dec 11 2024, 16:24:50) [GCC 11.2.0]', 'platform': 'Linux-6.8.0-48-generic-x86_64-with-glibc2.35', 'event': 'created'}
2025-07-26 23:04:49,414 - INFO - 计算增强的节点中心性特征...
2025-07-26 23:04:49,478 - INFO - 标准化中心性特征...
2025-07-26 23:04:49,479 - INFO - 应用特征重要性权重后的中心性特征形状: (61, 17)
2025-07-26 23:04:49,479 - INFO - 使用组合特征: 嵌入维度=32, 中心性特征维度=17, 总维度=49
2025-07-26 23:04:49,680 - INFO - 加载模型参数: gamma=6.8268, beta=-13.0486, centrality_scaling=1.6262
2025-07-26 23:04:49,680 - INFO - 其他参数: mixing_weight=0.2898, noise_threshold=0.5125
2025-07-26 23:04:49,683 - INFO - gamma: 6.2395, beta: -13.8278
2025-07-26 23:04:49,685 - INFO - 通用模型加载成功，可用于迁移学习
2025-07-26 23:04:49,685 - INFO - 将使用迁移学习进行训练
2025-07-26 23:04:49,685 - INFO - 
使用预设参数进行训练和评估...
2025-07-26 23:04:49,685 - INFO - 使用单次训练模式
2025-07-26 23:04:49,687 - INFO - 迁移学习: 降低初始学习率至 0.000300
2025-07-26 23:04:50,394 - INFO - 设置渐进式解冻点: [0, 0, 0]
2025-07-26 23:04:50,395 - INFO - 将训练 0 轮，训练后总轮数将达到 0
2025-07-26 23:04:50,602 - INFO - 测试集结果:
2025-07-26 23:04:50,602 - INFO - K=5: Recall=1.000000, Precision=0.200000, F1=0.333333
2025-07-26 23:04:50,602 - INFO - K=10: Recall=1.000000, Precision=0.100000, F1=0.181818
2025-07-26 23:04:50,602 - INFO - K=15: Recall=1.000000, Precision=0.066667, F1=0.125000
2025-07-26 23:04:50,603 - INFO - 测试集分类准确率: 100.00%
2025-07-26 23:04:50,605 - INFO - 模型已保存到: /home/ps/jy_exp/output/GNN_res6/historicalModels/Train-8/final_model.pth
2025-07-26 23:04:50,608 - INFO - 通用模型已保存到: /home/ps/jy_exp/output/GNN_res/models/general_model.pth
2025-07-26 23:04:50,608 - INFO - 
识别出的重要类:
2025-07-26 23:04:50,608 - INFO - --------------------------------------------------------------------------------
2025-07-26 23:04:50,608 - INFO - 排名     节点ID     分数         是关键类   类名                                                
2025-07-26 23:04:50,608 - INFO - --------------------------------------------------------------------------------
2025-07-26 23:04:50,608 - INFO - 1      20       0.9997     ✓      Name                                              
2025-07-26 23:04:50,608 - INFO - 2      7        0.8911     ✓      Compression                                       
2025-07-26 23:04:50,608 - INFO - 3      54       0.8397     ✓      Message                                           
2025-07-26 23:04:50,608 - INFO - 4      45       0.7487     ✓      Type                                              
2025-07-26 23:04:50,608 - INFO - 5      31       0.7068     ✓      Record                                            
2025-07-26 23:04:50,608 - INFO - 6      35       0.6970            Section                                           
2025-07-26 23:04:50,608 - INFO - 7      27       0.6611            Options                                           
2025-07-26 23:04:50,608 - INFO - 8      30       0.5217            Rcode                                             
2025-07-26 23:04:50,608 - INFO - 9      34       0.2561            RRset                                             
2025-07-26 23:04:50,609 - INFO - 10     9        0.2542            DClass                                            
2025-07-26 23:04:50,609 - INFO - 11     24       0.2352            NS_CNAME_PTRRecord                                
2025-07-26 23:04:50,609 - INFO - 12     38       0.1899            SOARecord                                         
2025-07-26 23:04:50,609 - INFO - 13     36       0.1675            SetResponse                                       
2025-07-26 23:04:50,609 - INFO - 14     6        0.1657            CNAMERecord                                       
2025-07-26 23:04:50,609 - INFO - 15     41       0.1479            TSIG                                              
2025-07-26 23:04:50,609 - INFO - --------------------------------------------------------------------------------
2025-07-26 23:04:50,609 - INFO - 
成功识别的关键类:
2025-07-26 23:04:50,609 - INFO - --------------------------------------------------------------------------------
2025-07-26 23:04:50,609 - INFO - 1. Name (排名: 1, 分数: 0.9997, 节点ID: 20)
2025-07-26 23:04:50,609 - INFO - 2. Compression (排名: 2, 分数: 0.8911, 节点ID: 7)
2025-07-26 23:04:50,609 - INFO - 3. Message (排名: 3, 分数: 0.8397, 节点ID: 54)
2025-07-26 23:04:50,609 - INFO - 4. Type (排名: 4, 分数: 0.7487, 节点ID: 45)
2025-07-26 23:04:50,609 - INFO - 5. Record (排名: 5, 分数: 0.7068, 节点ID: 31)
2025-07-26 23:04:50,609 - INFO - --------------------------------------------------------------------------------
2025-07-26 23:04:50,609 - INFO - 在前5个预测中，正确识别了5个关键类，共6个关键类
2025-07-26 23:04:50,609 - INFO - 覆盖率: 83.33%, 准确率: 100.00%
2025-07-26 23:04:50,609 - INFO - 在前10个预测中，正确识别了5个关键类，共6个关键类
2025-07-26 23:04:50,609 - INFO - 覆盖率: 83.33%, 准确率: 50.00%
2025-07-26 23:04:50,609 - INFO - 在前15个预测中，正确识别了5个关键类，共6个关键类
2025-07-26 23:04:50,609 - INFO - 覆盖率: 83.33%, 准确率: 33.33%
2025-07-26 23:04:50,845 - INFO - 分数已保存到 /home/ps/jy_exp/output/GNN_res6/Scores/DNS_scores.txt
2025-07-26 23:04:50,845 - INFO - 分数统计：最小值=0.0176, 最大值=0.9997, 平均值=0.1614
2025-07-26 23:04:50,845 - INFO - 接近0的分数(小于0.051)数量: 34 / 61
2025-07-26 23:04:50,846 - INFO - log已保存到 /home/ps/jy_exp/output/GNN_res6/logs/log-8.txt
